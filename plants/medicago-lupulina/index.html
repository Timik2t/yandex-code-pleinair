<!DOCTYPE html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script>
  let particles = [];
let particles2 = [];
let frame_count=0;

function setup() {
  createCanvas(450, 800);
  background('white')
  for (let i = 0; i < 1000; i++) {
    let particle = {
      x: width / 2,
      y: height/2,
      vx: random(-.1, .1),
      vy: random(-1, 0),
    };
    particles.push(particle);
  }
    for (let i = 0; i < 1000; i++) {
    let particle2 = {
      x: width / 2,
      y: height/3,
      vx: random(-.1, .1),
      vy: random(-1, 0),
    };
    particles2.push(particle2);
  }
}

function draw() {
  noFill()
  strokeWeight(.1)
  randomSeed(0)
  if (frame_count<150){
  for (let i = 0; i < particles.length; i++) {
    stroke(random(256),random(256),128)
    let particle = particles[i];
    let d = noise(frameCount/80,i) ** 10 * 150
    triangle(particle.x, particle.y, particle.x+6,particle.y+6,particle.x+20, particle.y);
    particle.x+=particle.vx
    particle.y+=particle.vy
    particle.vx+=map(Math.random(),0,1,-.01,.01)
  }
  } else {
  
  for (let i = 0; i < particles2.length; i++) {
    stroke(random(256),random(256),128)
    let particle2 = particles2[i];
    let d = noise(frameCount/80,i) ** 10 * 150
    circle(particle2.x, particle2.y, d);
    particle2.x+=particle2.vx
    particle2.y+=particle2.vy
    particle2.vx+=map(Math.random(),0,1,-.01,.01)
  }
    
} 
frame_count+=1;
}
</script>
